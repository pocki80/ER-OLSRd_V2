# default config file for EdgeRouter at 0xFF funkfeuer.at, using ipv6 routing only
# cpo 20170315
#
# execute ./olsrd2 --schema=http.acl or similar for further help

[global]
failfast no                  # Set to true to stop daemon startup if at least one plugin doesn't load.
fork     yes                 # Set to true to fork daemon into background.
lockfile /var/lock/olsrd2    # Write the process id of the forced child into a file
pidfile  /var/run/olsrd2.pid # Write the process id of the forced child into a file
#plugin (list)               # Set list of plugins to be loaded by daemon. Some might need configuration options.
#plugin_path                 # Additional user defined path to look for plugins

[log]
file   /var/log/olsrd2.log   # Set a filename to log to a file
info   main
info   http
#debug  main                 # Set logging sources that display debug, info and warnings
#info   all                  # Set logging sources that display info and warnings
                             # 'all', 'main', 'logging', 'config', 'plugins', 'subsystems', 'class', 'clock', 'duplicate_set', 'ff_dat_metric', 'http', 'interface', 
                             # 'lan_import', 'layer2', 'layer2info', 'link_config', 'neighbor_probing', 'netjsoninfo', 'nhdp', 'nhdp_r', 'nhdp_w', 'nhdpinfo', 
                             # 'nl80211_listener', 'olsrv2', 'olsrv2_r', 'olsrv2_w', 'olsrv2_routing', 'olsrv2info', 'os_interface','os_routing', 'os_socket', 
                             # 'os_system', 'packet_socket', 'rfc5444', 'socket', 'stream_socket', 'systeminfo', 'telnet', 'timer', 'viewer', 'rfc5444_r', 'rfc5444_w'
stderr true                  # Set to true to activate logging to stderr
#syslog                      # Set to true to activate logging to syslog


[telnet]
port 2009                    # Network port for telnet interface
#bindto (list)               # Allowed addressed to bind telnet socket to
#acl (list)                  # Access control list for telnet interface

[http]
bindto 0.0.0.0               # Allowed addressed to bind telnet socket to
bindto ::1
webserver /config/olsrd2/www # Path to map into the /www subdirectory of the HTTP server, empty path feature will be disabled
port 8000                    # Network port for http interface
#acl (list)                  # Access control list for telnet interface

[olsrv2]
originator   -0.0.0.0/0
originator   -::1/128
originator   default_accept
#forward_hold_time           # Holdtime for forwarding set information
#lan (list)                  # locally attached network, a combination of an ip address or prefix followed by an up to four 
                             # optional parameters which define link metric cost, hopcount distance and domain of 
                             # the prefix ( <metric=...> <dist=...> <domain=<num>/all> <src=...> ).
#processing_hold_time        # Holdtime for processing set information
#routable (list)             # Filter to decide which addresses are considered routable
#tc_interval                 # Time between two TC messages
#tc_validity                 # Validity time of a TC messages


[interface=br0]
bindto       -0.0.0.0/0
bindto       -::1/128
bindto       default_accept
#acl (list)                  # Access control list for RFC5444 interface
#bindto (list)               # Bind RFC5444 socket to an address matching this filter (both IPv4 and IPv6)
#dscp                        # DSCP field for outgoing UDP protocol traffic
#hello_interval              # Time interval between two NHDP Hello Messages
#hello_validity              # Validity time for NHDP Hello Messages
#ifaddr_filter (list)        # Filter for ip interface addresses that should be included in HELLO messages
#multicast_v4                # ipv4 multicast address of this socket
#multicast_v6                # ipv6 multicast address of this socket
#rawip                       # True if a raw IP socket should be used, false to use UDP
#rx_bitrate (list)           # Sets the incoming link speed on the interface. Consists of a speed in bits/s (with iso-prefix)
                             # and an optional list of mac addresses of neighbor nodes.
#rx_max_bitrate (list)       # Sets the maximal incoming link speed on the interface. Consists of a speed in bits/s (with 
                             # iso-prefix) and an optional list of mac addresses of neighbor nodes.
#rx_signal (list)            # Sets the incoing signal strength on the interface. Consists of a signal strength in dBm (with
                             # iso-prefix) and an optional list of mac addresses of neighbor nodes.
#tx_bitrate (list)           # Sets the outgoing link speed on the interface. Consists of a speed in bits/s (with iso-prefix)
                             # and an optional list of mac addresses of neighbor nodes.
#tx_max_bitrate (list)       # Sets the maximal outgoing link speed on the interface. Consists of a speed in bits/s (with
                             #iso-prefix) and an optional list of mac addresses of neighbor nodes.

[interface=lo]
bindto       -0.0.0.0/0
bindto       -::1/128
bindto       default_accept

#[mesh]
#agregation_interval         # Interval in seconds for message aggregation
#ip_proto                    # IP protocol for RFC5444 interface
#port                        # UDP port for RFC5444 interface

#[neighbor_probing]
#interval                    # Time interval between link probing
#probe_dlep                  # Probe DLEP interfaces in addition to wireless interfaces
#size                        # Number of bytes used for neighbor probe

#[domain]
#distance                    # Metric Distance to be used in routing table
#metric                      # ID of the routing metric used for this domain. '-' means no metric (hopcount!), '*' means 
                             # any metric that is loaded (with fallback on '-').
#mpr                         # ID of the mpr algorithm used for this domain. '-' means no mpr algorithm (everyone is MPR),
                             # '*' means any metric that is loaded (with fallback on '-').
#protocol                    # Protocol number to be used in routing table
#source_specific             # This domain uses IPv6 source specific routing
#srcip_routes                # Set the source IP of IPv4-routes to a fixed value.
#table                       # Routing table number for routes
#willingness                 # Routing willingness used for MPR calculation

#[nhdp]
#mpr                         # ID of the mpr algorithm used for this domain. '-' means no mpr algorithm (everyone is MPR),
                             # '*' means any metric that is loaded (with fallback on '-').
#willingness                 # Flooding willingness for MPR calculation

#[nl80211_listener]
#if (list)                   # List of additional interfaces to read nl80211 data from
#interval                    # Interval between two linklayer information updates

#[ff_dat_metric]
#airtime                     # Activates the handling of linkspeed within the metric, set to false to downgrade to ETX metric
#interval                    # Time interval between recalculations of metric
#loss_exponent               # scaling of the packet loss influence on the metric
#mic                         # Activates the MIC penalty-factor for link metrics
#window                      # Number of intervals to calculate average metric

#[lan_import]
#domain                      # Routing domain extension for filter
#interface                   # Interface name of matching routes, empty if all interfaces
#matches (list)              # Ip addresses the filter should be applied to (the plugin will never import loopback, linklocal or multicast IPs)
#metric                      # Metric of matching routes, 0 for all metrics
#prefix_length               # Prefix length the filter should be applied to, -1 for any prefix length
#protocol                    # Routing protocol of matching routes, 0 for all protocols
#table                       # Routing table of matching routes, 0 for matching all tables
